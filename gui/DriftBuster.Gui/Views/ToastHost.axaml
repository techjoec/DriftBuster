<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="using:DriftBuster.Gui.Converters"
             xmlns:services="using:DriftBuster.Gui.Services"
             x:Class="DriftBuster.Gui.Views.ToastHost"
             x:DataType="services:IToastService">
  <StackPanel Orientation="Vertical"
              Spacing="8"
              HorizontalAlignment="Right"
              VerticalAlignment="Top"
              Margin="0,24,24,0">
    <ItemsControl ItemsSource="{Binding ActiveToasts}">
      <ItemsControl.ItemTemplate>
        <DataTemplate x:DataType="services:ToastNotification">
          <Border Padding="14"
                  CornerRadius="12"
                  Background="{Binding Level, Converter={x:Static conv:ToastLevelToBrushConverter.Instance}}"
                  Width="320"
                  Opacity="0.95">
            <StackPanel Spacing="8">
              <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                <TextBlock Text="{Binding Title}"
                           FontWeight="SemiBold"
                           Foreground="White"
                           FontSize="15" />
                <TextBlock Text="{Binding Timestamp, StringFormat='{}{0:T}'}"
                           Foreground="#F8FAFC"
                           FontSize="11"
                           HorizontalAlignment="Right"
                           Opacity="0.7" />
              </StackPanel>
              <TextBlock Text="{Binding Message}"
                         Foreground="#F8FAFC"
                         TextWrapping="Wrap" />
              <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right">
                <Button Content="{Binding SecondaryLabel}"
                        Classes="outline"
                        Command="{Binding SecondaryCommand}"
                        IsVisible="{Binding SecondaryCommand}"
                        Foreground="White"
                        Background="Transparent" />
                <Button Content="{Binding PrimaryLabel}"
                        Classes="outline"
                        Command="{Binding PrimaryCommand}"
                        IsVisible="{Binding PrimaryCommand}"
                        Foreground="White"
                        Background="Transparent" />
                <Button Content="Dismiss"
                        Classes="outline"
                        Command="{Binding DismissCommand}"
                        Foreground="White"
                        Background="Transparent" />
              </StackPanel>
            </StackPanel>
          </Border>
        </DataTemplate>
      </ItemsControl.ItemTemplate>
    </ItemsControl>
  </StackPanel>
</UserControl>
